import { createHead, useScript } from 'unhead'

function createGoogleAnalytics (options) {
  const { gtag } = useScript(`https://www.googletagmanager.com/gtag/js?id=${options.id}`, {
    beforeInit () {
      window.dataLayer = window.dataLayer || []
      window.gtag = function gtag (...p) {
        window.dataLayer.push(p)
      }
      window.gtag('js', new Date())
      window.gtag('config', options.id, { debug: 'true' })
    },
    use () {
      return { gtag: window.gtag }
    }
  })

  return {
    install: (app) => {
      app.config.globalProperties.$analytics = gtag
      app.mixin({
        data () {
          return {
            analyticsTag: options.id
          }
        }
      })
    }
  }
}

app.use(createGoogleAnalytics({ id: 'G-CVKFG2XPVGv' }))


<!-- <button type="button" class="btn btn-sm btn-light shadow-none">
  Trier
  <font-awesome-icon :icon="['fas', 'caret-down']" class="ms-2" />
</button> -->
<!-- <button type="button" class="btn btn-sm btn-light shadow-none">
  Taille
  <font-awesome-icon :icon="['fas', 'caret-down']" class="ms-2" />
</button> -->
<!-- <button type="button" class="btn btn-sm btn-light shadow-none">
  Couleurs
  <font-awesome-icon :icon="['fas', 'caret-down']" class="ms-2" />
</button>
<button type="button" class="btn btn-sm btn-light shadow-none">
  Mati√®res
  <font-awesome-icon :icon="['fas', 'caret-down']" class="ms-2" />
</button>
<button type="button" class="btn btn-sm btn-light shadow-none">
  Prix
  <font-awesome-icon :icon="['fas', 'caret-down']" class="ms-2" />
</button>
<button type="button" class="btn btn-sm btn-light shadow-none">
  Formes
  <font-awesome-icon :icon="['fas', 'caret-down']" class="ms-2" />
</button>
<button type="button" class="btn btn-sm btn-light shadow-none">
  Armatures
  <font-awesome-icon :icon="['fas', 'caret-down']" class="ms-2" />
</button>
<button type="button" class="btn btn-sm btn-light shadow-none">
  Coques
  <font-awesome-icon :icon="['fas', 'caret-down']" class="ms-2" />
</button> -->
