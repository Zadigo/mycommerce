"use strict";(self["webpackChunkfront2"]=self["webpackChunkfront2"]||[]).push([[602,115],{3115:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var s=a(3396),o=a(9242),l=a(7139);const n={class:"col-4"},c={ref:"aside",class:"card"},i={class:"card-body"},r={key:0},d={class:"form-check"},p={class:"form-check-label",for:"gift-wrap"},m={class:"form-check mt-2"},u={class:"form-check-label",for:"donation"},y=(0,s._)("hr",{class:"my-6"},null,-1),h=(0,s.uE)('<div class="d-flex justify-content-between fw-bold"><h5 class="text-uppercase fs-6 fw-bold">Sous-total</h5><h5 class="text-uppercase fs-6 fw-bold">25€</h5></div><div class="d-flex justify-content-between text-muted mt-2 mb-4"><h5 class="text-uppercase fs-6">Remise</h5><h5 class="text-uppercase fs-6">25€</h5></div>',2),f={class:"d-flex justify-content-between"},b=(0,s._)("h5",{class:"text-uppercase fw-bold"},"Total",-1),v={class:"fw-bold"},_={key:1,class:"actions"},w=(0,s._)("hr",{class:"my-7"},null,-1),k=(0,s._)("aside",{class:"card mt-2"},[(0,s._)("div",{class:"card-body"}," payment ")],-1);function g(e,t,a,g,C,x){const $=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("aside",c,[(0,s._)("div",i,[a.showActions?((0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",d,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.is_gift=t),id:"gift-wrap",class:"form-check-input",type:"checkbox",onClick:t[1]||(t[1]=t=>e.$emit("update-total","is_gift"))},null,512),[[o.vModelCheckbox,e.is_gift]]),(0,s._)("label",p,(0,l.zw)(e.$t("Please Gift Wrap my order - $6.00")),1)]),(0,s._)("div",m,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.donation=t),id:"donation",class:"form-check-input",type:"checkbox",onClick:t[3]||(t[3]=t=>e.$emit("update-total","donation"))},null,512),[[o.vModelCheckbox,e.donation]]),(0,s._)("label",u,(0,l.zw)(e.$t("Faire un don - 0.5€")),1)]),y])):(0,s.kq)("",!0),h,(0,s._)("div",f,[b,(0,s._)("h5",v,(0,l.zw)(e.$n(a.grandTotal,"currency",e.$i18n.locale)),1)]),a.showActions?((0,s.wg)(),(0,s.iD)("div",_,[w,(0,s.Wm)($,{to:{name:"shipment_view",params:{lang:e.$i18n.locale}},class:"btn btn-block btn-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("Checkout")),1)])),_:1},8,["to"]),(0,s.Wm)($,{to:{name:"collection_details_view",params:{collection:"all",lang:e.$i18n.locale}},class:"btn btn-block btn-light"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("Continue shopping")),1)])),_:1},8,["to"])])):(0,s.kq)("",!0)])],512),k])}var C={name:"CartAside",emits:["update-total"],props:{showActions:{type:Boolean,default:!0},grandTotal:{type:Number,required:!0}},data:()=>({is_gift:!1,donation:!1})},x=a(89);const $=(0,x.Z)(C,[["render",g]]);var S=$},602:function(e,t,a){a.r(t),a.d(t,{default:function(){return K}});var s=a(3396),o=a(9242),l=a(7139);const n={id:"shipment",class:"ecommerce-section"},c={class:"container"},i={class:"row"},r={class:"col-8"},d={key:0,class:"card mb-2"},p={class:"card-body"},m=(0,s.uE)('<p class="fw-bold mb-1">Livraison prévue entre le 24/06/22 et le 27/06/22</p><p class="fw-bold">Colissimo - Livraison standard</p><p class="m-0">Lucile Pauline</p><p class="m-0">1 rue abbe de la rue</p><p class="m-0">14000 Caen</p><p class="m-0">France</p><p class="m-0">lucile@gmail.com</p>',7),u={key:0,id:"shipment-infos",class:"card"},y={class:"card-body"},h=["onUpdate:modelValue","type","autocomplete","placeholder"],f={key:1,id:"delivery-method",class:"card mt-2"},b={class:"card-body"},v={class:"fw-bold fs-5"},_=["onClick"],w={class:"card-body"},k={class:"fw-bold d-flex justify-content-between"},g=(0,s._)("span",null,"4.90€",-1),C=(0,s._)("p",null,"Livraison prévue entre le 24/06/22 et le 27/06/22",-1),x={key:2,class:"card mt-2"},$={class:"card-body"},S={class:"fw-bold fs-5"},D=(0,s._)("p",{class:"text-muted"}," Votre paiement est sécurisé ",-1),z=(0,s._)("div",{class:"form-check"},[(0,s._)("input",{class:"form-check-input",type:"radio",name:"delivery-mode",checked:""}),(0,s._)("label",{class:"form-check-label",for:"delivery-mode"}," Carte de crédit ")],-1),U=(0,s._)("hr",{class:"my-4"},null,-1),M=(0,s._)("div",{class:"spinner-border spinner-border-sm me-2",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),V=(0,s.Uk)(" En validant ma commande, je déclare avoir pris connaissance et accepté sans réserve les "),A=(0,s.Uk)("Conditions générales de vente."),P=(0,s.Uk)(" Je reconnais avoir lu et accepté la "),W=(0,s.Uk)("Charte de confidentialité "),q=(0,s.Uk)(". ");function E(e,t,a,E,L,j){const T=(0,s.up)("router-link"),F=(0,s.up)("cart-aside-vue");return(0,s.wg)(),(0,s.iD)("section",n,[(0,s._)("div",c,[(0,s._)("div",i,[(0,s._)("div",r,[e.currentStep>=2?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",p,[m,(0,s._)("button",{type:"button",class:"btn btn-info btn-sm mt-4",onClick:t[0]||(t[0]=e=>j.changeStep(1))}," Modifier ")])])):(0,s.kq)("",!0),(0,s.Wm)(o.Transition,{name:"opacity",mode:"out-in"},{default:(0,s.w5)((()=>[1===e.currentStep?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.fields,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.name,class:(0,l.C_)(`col-${t.col}`)},[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a=>e.options[t.name]=a,type:t.type,autocomplete:t.autocomplete,placeholder:t.name,class:"form-control p-2 mb-2"},null,8,h),[[o.vModelDynamic,e.options[t.name]]])],2)))),128)),(0,s._)("button",{class:"btn btn-lg btn-primary mt-2",onClick:t[1]||(t[1]=e=>j.changeStep(2))},(0,l.zw)(e.$t("Validate")),1)])])):2===e.currentStep?((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",b,[(0,s._)("p",v,(0,l.zw)(e.$t("Choose your delivery method")),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.deliveryMethods,((t,a)=>((0,s.wg)(),(0,s.iD)("a",{key:a,href:"",class:(0,l.C_)([{border:t===e.options.delivery_mode},"card shadow-sm text-dark my-2"]),onClick:(0,o.withModifiers)((a=>e.options.delivery_mode=t),["prevent"])},[(0,s._)("div",w,[(0,s._)("p",k,[(0,s._)("span",null,(0,l.zw)(t),1),g]),C])],10,_)))),128)),(0,s._)("button",{class:"btn btn-lg btn-primary text-right mt-2",onClick:t[2]||(t[2]=e=>j.changeStep(3))},(0,l.zw)(e.$t("Passer commande")),1)])])):3===e.currentStep?((0,s.wg)(),(0,s.iD)("div",x,[(0,s._)("div",$,[(0,s._)("p",S,(0,l.zw)(e.$t("Choose a payment method")),1),D,z,U,(0,s._)("button",{class:"btn btn-lg btn-block btn-primary my-3",onClick:t[3]||(t[3]=(...e)=>j.completePayment&&j.completePayment(...e))},[M,(0,s.Uk)(" "+(0,l.zw)(e.$t("Pay"))+" - $123 ",1)]),(0,s._)("p",null,[V,(0,s.Wm)(T,{to:{name:"shop_view"}},{default:(0,s.w5)((()=>[A])),_:1})]),(0,s._)("p",null,[P,(0,s.Wm)(T,{to:{name:"shop_view"}},{default:(0,s.w5)((()=>[W])),_:1}),q])])])):(0,s.kq)("",!0)])),_:1})]),(0,s.Wm)(F,{"grand-total":20,"show-actions":!1})])])])}var L=a(3115),j=a(3006),T={name:"ShipmentView",setup(){var e=(0,j.L)();return{store:e}},components:{CartAsideVue:L["default"]},data:()=>({currentStep:1,options:{delivery_mode:"Colissimo - Standard"},paymentMethod:null,fields:[],deliveryMethods:["Colissimo - Standard","Colissimo - Standard2"],processing:!1}),beforeMount(){var e=[{name:"email",type:"email",autocomplete:"email",col:12},{name:"lastname",type:"text",autocomplete:"given-name",col:6},{name:"firstname",type:"text",autocomplete:"family-name",col:6},{name:"address",type:"text",autocomplete:"address-level-1",col:12},{name:"zip_code",type:"text",autocomplete:"email",col:12},{name:"city",type:"text",autocomplete:"address-level-2",col:12},{name:"country",type:"text",autocomplete:"country",col:12},{name:"telephone",type:"tel",autocomplete:"tel",col:12}];e.forEach((e=>{this.options[e.name]=null})),this.fields=e},methods:{async completePayment(){try{const e={session_id:this.localStorage.cart.session_id,...this.options},t=await this.$http.post("cart/payment",e);t.data.state?this.$router.push({name:"success_page_view",query:{token:t.data.reference},params:{lang:this.$i18n.locale}}):this.store.addErrorMessage("V-AX-PA: Could not complete payment")}catch(e){this.store.addErrorMessage("V-AX-PA: Could not complete payment")}},changeStep(e){this.currentStep=e}}},F=a(89);const H=(0,F.Z)(T,[["render",E]]);var K=H}}]);
//# sourceMappingURL=602.055c59f5.js.map