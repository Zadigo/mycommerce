"use strict";(self["webpackChunkfront2"]=self["webpackChunkfront2"]||[]).push([[859,309,533],{7540:function(t,e,s){s.r(e),s.d(e,{default:function(){return D}});s(6699);var o=s(3396),n=s(7139);const l=t=>((0,o.dD)("data-v-21adb762"),t=t(),(0,o.Cn)(),t),a={ref:"link",class:"navbar navbar-expand-lg shadow-none navbar-light mb-1"},r={class:"collapse navbar-collapse flex-column justify-content-left align-items-start"},i={class:"navbar-nav w-100 justify-content-center"},c=l((()=>(0,o._)("li",{class:"nav-item font-weight-bold text-uppercase"},[(0,o._)("button",{class:"btn shadow-none disabled"},[(0,o._)("span",{class:"fw-normal"},"Filtres")])],-1))),d=l((()=>(0,o._)("li",{class:"nav-item mx-1"},null,-1))),u={class:"nav-item mx-1"},m={class:"nav-item mx-1"},p={key:0,id:"filters",class:"d-flex justify-content-center",style:{"flex-wrap":"wrap"}},h={key:0},w=["onClick"],f={key:1,class:"d-flex justify-content-center"},g=["onClick"];function v(t,e,s,l,v,b){return(0,o.wg)(),(0,o.iD)("nav",a,[(0,o._)("div",r,[(0,o._)("ul",i,[c,d,(0,o._)("li",u,[(0,o._)("button",{class:"btn btn-light shadow-none fw-normal",onClick:e[0]||(e[0]=t=>b.openFilters("sizes"))},(0,n.zw)(t.$t("Size")),1)]),(0,o._)("li",m,[(0,o._)("button",{class:"btn btn-light shadow-none fw-normal",onClick:e[1]||(e[1]=t=>b.openFilters("colors"))},(0,n.zw)(t.$t("Color")),1)])]),t.showFilters?((0,o.wg)(),(0,o.iD)("div",p,["sizes"==t.selectedFilter?((0,o.wg)(),(0,o.iD)("div",h,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.sizes,((e,s)=>((0,o.wg)(),(0,o.iD)("div",{key:s,class:(0,n.C_)([{active:t.selectedElements.sizes.includes(e)},"md-chip fw-bold me-3"]),onClick:t=>b.setFilterValue("sizes",e)},(0,n.zw)(e),11,w)))),128))])):"colors"==t.selectedFilter?((0,o.wg)(),(0,o.iD)("div",f,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(b.colors,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:e,onClick:e=>b.setFilterValue("colors",t[0])},null,8,g)))),128))])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])],512)}var b=s(4806),_=s.n(b),k=s(4301),F=s(3006),y=s(678),L=s(8661),C=s(1881),P={name:"FiltersBar",emits:["loading-products-start","loading-products-end","do-sort","load-products"],data:()=>({items:[],sortMethod:"Latest",sortMethods:["Latest","Alphabetically A-Z","Alphabetically Z-A","Price high to low","Price low to high"],showFilters:!1,selectedFilter:"sizes",selectedElements:{sizes:[],colors:[]},sizes:["XS","S","M","L","XL","XXL"]}),setup(){const t=(0,F.L)(),e=(0,o.FN)(),s=(0,y.yj)(),{getProducts:n,productsRequest:l}=(0,C.Z)(e,s);return{store:t,getProducts:n,productsRequest:l}},computed:{...(0,k.rn)(F.L,{productNames(t){return _().map(t.products,(t=>t.name))}}),colors(){const t=["beige","black","camel","red"];return _().map(t,(t=>[t,(0,L.si)(`/media/swatches/${t}.png`)]))},searchQuery(){const t=new URLSearchParams({...this.selectedElements});return`?${t}`},hasFilters(){const t=_().map(Object.keys(this.selectedElements),(t=>this.selectedElements[t].length>0));return t.some((t=>!0===t))}},beforeMount(){this.sortMethod=this.localStorage.sort,this.doSort(this.sortMethod||"Latest")},mounted(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)},methods:{async getFilteredProducts(){try{this.$emit("loading-products-start");const t=await this.$http.get(`shop/advanced/search${this.searchQuery}`);this.store.$patch((e=>{e.products=t.data.results,this.$emit("loading-products-end")}))}catch(t){this.store.addErrorMessage("Could not resolve filter request (V-AX-FB)")}},doSort(t){this.sortMethod=t,this.$emit("do-sort",t)},openFilters(t){t!==this.selectedFilter&&this.showFilters?this.showFilters=!0:this.showFilters=!this.showFilters,this.selectedFilter=t},handleScroll(){const t=(0,L.Ew)(document.body);t>=5&&this.$refs.link.classList.add("scrolled"),(t>=90||0===t)&&this.$refs.link.classList.remove("scrolled")},setFilterValue(t,e){const s=this.selectedElements[t];this.selectedElements[t]=(0,L.lu)(s,e),this.hasFilters?this.getFilteredProducts():this.productsRequest(),(0,L.k3)()},isSelected(t,e){return this.selectedElements[t].includes(e)}}},z=s(89);const $=(0,z.Z)(P,[["render",v],["__scopeId","data-v-21adb762"]]);var D=$},9590:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var o=s(3396),n=s(7139);const l={class:"row text-center my-3 py-3"},a={class:"col-12 pb-6"},r=(0,o.Uk)("Showing "),i={class:"fw-bold"},c=(0,o.Uk)(" of "),d=(0,o._)("span",{class:"fw-bold"},"600",-1),u=(0,o.Uk)(" products");function m(t,e,s,m,p,h){const w=(0,o.up)("base-pagination-button");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",a,[(0,o._)("p",null,[r,(0,o._)("span",i,(0,n.zw)(s.productCount),1),c,d,u]),(0,o.Wm)(w,{onStartLoad:e[0]||(e[0]=e=>t.$emit("start-pagination")),onEndLoad:e[1]||(e[1]=e=>t.$emit("end-pagination"))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.$t("Load more")),1)])),_:1})])])}var p=s(4301),h=s(3006),w=s(9390),f={name:"PaginationRow",emits:["start-pagination","end-pagination"],components:{BasePaginationButton:w["default"]},props:{productCount:{type:Number,default:0}},computed:{...(0,p.rn)(h.L,["displayedProductsCount"])}},g=s(89);const v=(0,g.Z)(f,[["render",m]]);var b=v},7533:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var o=s(3396);const n=t=>((0,o.dD)("data-v-5dd8486b"),t=t(),(0,o.Cn)(),t),l={id:"collection",class:"ecommerce-section loading-skeleton"},a={class:"container-fluid"},r={class:"row"},i=n((()=>(0,o._)("div",{class:"col-12"},[(0,o._)("h2",{class:"mb-3 w-25 m-auto"}),(0,o._)("nav",{class:"navbar shadow-none mb-1 w-50 m-auto"})],-1))),c={class:"col-12"},d=n((()=>(0,o._)("p",{class:"m-0 mt-3 mb-3 m-auto w-25"},null,-1))),u={class:"row"},m=n((()=>(0,o._)("article",{class:"product"},[(0,o._)("img"),(0,o._)("p",{class:"mt-1 w-50"})],-1))),p=[m],h=n((()=>(0,o._)("hr",{class:"mt-5 mb-2"},null,-1)));function w(t,e){return(0,o.wg)(),(0,o.iD)("section",l,[(0,o._)("div",a,[(0,o._)("div",r,[i,(0,o._)("div",c,[d,(0,o._)("div",u,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(100,(t=>(0,o._)("div",{key:t,class:"col-sm-2 col-md-3"},p))),64))]),h])])])])}var f=s(89);const g={},v=(0,f.Z)(g,[["render",w],["__scopeId","data-v-5dd8486b"]]);var b=v},9390:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var o=s(3396);function n(t,e,s,n,l,a){return(0,o.wg)(),(0,o.iD)("button",{class:"btn btn-lg btn-secondary",onClick:e[0]||(e[0]=(...t)=>n.getProducts&&n.getProducts(...t))},[(0,o.WI)(t.$slots,"default")])}var l=s(678),a=s(1881),r={name:"BasePaginationButton",emits:["start-load","end-load"],setup(){const t=(0,o.FN)(),e=(0,l.yj)(),{getProducts:s}=(0,a.Z)(t,e);return{getProducts:s}}},i=s(89);const c=(0,i.Z)(r,[["render",n]]);var d=c},2433:function(t,e,s){s.r(e),s.d(e,{default:function(){return F}});var o=s(3396),n=s(7139);const l={id:"collection",class:"ecommerce-section"},a={class:"container-fluid"},r={class:"row"},i={class:"col-12"},c={class:"text-center w-100 mb-3"},d=(0,o._)("hr",{class:"mt-5 mb-2"},null,-1),u={class:"col-12 my-6 d-none"},m=(0,o._)("img",{src:"https://img.ltwebstatic.com/images3_acp/2022/02/25/164578700614872218156e3ff9868de22e7c67a145.webp",class:"img-fluid"},null,-1);function p(t,e,s,p,h,w){const f=(0,o.up)("filters-bar"),g=(0,o.up)("products-wrapper-vue"),v=(0,o.up)("collection-view1"),b=(0,o.up)("pagination-row"),_=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("section",l,[(0,o._)("div",a,[(0,o._)("div",r,[(0,o._)("div",i,[(0,o._)("h2",c,(0,n.zw)(p.capitalizeFirstLetter(t.$route.params.collection)),1),(0,o.Wm)(f,{style:{"z-index":"20"},onLoadingProductsStart:e[0]||(e[0]=e=>t.isLoading=!0),onLoadingProductsEnd:e[1]||(e[1]=e=>t.isLoading=!1)})]),((0,o.wg)(),(0,o.j4)(o.n4,null,{fallback:(0,o.w5)((()=>[(0,o.Wm)(v)])),default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})),d,(0,o.Wm)(b,{"product-count":w.searchedProductsCount},null,8,["product-count"]),(0,o._)("div",u,[(0,o.Wm)(_,{to:{name:"shop_view",params:{lang:t.$i18n.locale}}},{default:(0,o.w5)((()=>[m])),_:1},8,["to"])])])])])}var h=s(8661),w=s(7540),f=s(9590),g=s(3149),v=s(7533),b={name:"CollectionView",components:{ProductsWrapperVue:g["default"],FiltersBar:w["default"],PaginationRow:f["default"],CollectionView1:v["default"]},setup(){return{capitalizeFirstLetter:h.fm}},computed:{searchedProductsCount(){return 0}}},_=s(89);const k=(0,_.Z)(b,[["render",p]]);var F=k}}]);
//# sourceMappingURL=859.7e861fd5.js.map