{"version":3,"file":"static/js/210.00647cb1.js","mappings":"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","sources":["webpack://front2/./src/views/shop/LikedProductsView.vue","webpack://front2/./src/views/shop/LikedProductsView.vue?aa5c"],"sourcesContent":["<template>\r\n  <section id=\"likes\" class=\"ecommerce-section\">\r\n    <div class=\"container\">\r\n      <div v-if=\"likedProducts.length > 0\" class=\"row\">\r\n        <article v-for=\"product in likedProducts\" :key=\"product.id\" class=\"col-3\">\r\n          <div class=\"card\">\r\n            <router-link :to=\"{ name: 'product_view', params: { id: product.id, slug: product.slug, lang: $i18n.locale } }\">\r\n              <img :src=\"mediaUrl(product.get_main_image.mid_size)\" :alt=\"likedProducts.name\" class=\"card-img-top\">\r\n            </router-link>\r\n\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">\r\n                <router-link :to=\"{ name: 'product_view', params: { id: product.id, slug: product.slug, lang: $i18n.locale } }\">\r\n                  {{ truncate(product.name, 20) }}\r\n                </router-link>\r\n              </h5>\r\n              <p class=\"card-text\">{{ product.get_price }}</p>\r\n              <button class=\"btn btn-block btn-primary\">\r\n                {{ $t('Add to cart') }}\r\n              </button>\r\n              <button class=\"btn btn-block btn-primary\" @click=\"removeFromLiked(product)\">\r\n                {{ $t('Remove') }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </article>\r\n      </div>\r\n\r\n      <div v-else class=\"row text-center\">\r\n        <div class=\"col-12\">\r\n          <h1 class=\"mb-4 fw-bold\">{{ $t('You have no saved items') }}</h1>\r\n\r\n          <div v-if=\"authStore.isAuthenticated\" class=\"my-2\">\r\n            <router-link :to=\"{ name: 'collection_details_view', params: { collection: 'all', lang: $i18n.locale } }\" class=\"btn btn-lg btn-primary\">\r\n              {{ $t('Continue shopping') }}\r\n            </router-link>\r\n          </div>\r\n\r\n          <div v-else class=\"my-2\">\r\n            <p>{{ $t('Sign in to sync your saved items across all your devices') }}</p>\r\n            <router-link :to=\"{ name: 'login_view', params: { lang: $i18n.locale } }\" class=\"btn btn-lg btn-primary\">\r\n              {{ $t('Sign in') }}\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { useAuthentication } from '../../store/authentication'\r\nimport { mediaUrl, truncate } from '../../utils'\r\nimport useCartComposable from '../../composables/cart'\r\n\r\nexport default {\r\n  name: 'LikedProductsView',\r\n  setup () {\r\n    const authStore = useAuthentication()\r\n    const { addToCart } = useCartComposable()\r\n    return {\r\n      authStore,\r\n      mediaUrl,\r\n      truncate,\r\n      addToCart\r\n    }\r\n  },\r\n  data: () => ({\r\n    likedProducts: []\r\n  }),\r\n  beforeMount () {\r\n    if (this.authStore.isAuthenticated) {\r\n      this.getLikedProducts()\r\n      this.likedProducts = this.localStorage.likedProducts || []\r\n    }\r\n  },\r\n  methods: {\r\n    async getLikedProducts () {\r\n      try {\r\n        const response = await this.$http.get('shop/likes')\r\n        this.likedProducts = response.data.products\r\n        this.$localstorage.create('likedProducts', this.likedProducts)\r\n      } catch (error) {\r\n        this.authStore.addErrorMessage(`V-AX-LI: ${error}`)\r\n      }\r\n    },\r\n\r\n    async removeFromLiked (product) {\r\n      try {\r\n        const response = await this.$http.post('shop/likes/remove', { product: product.id })\r\n        this.likedProducts = response.data\r\n        this.$localstorage.create('likedProducts', this.likedProducts)\r\n      } catch (error) {\r\n        this.authStore.addErrorMessage(`V-AX-LI: ${error}`)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./LikedProductsView.vue?vue&type=template&id=5868bf23\"\nimport script from \"./LikedProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./LikedProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\coding\\\\websites\\\\mycommerce\\\\front2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","_createElementBlock","_createElementVNode","_ctx","length","_Fragment","_renderList","product","key","_createVNode","_component_router_link","to","name","params","slug","lang","locale","src","$setup","get_main_image","mid_size","alt","_toDisplayString","get_price","onClick","$options","_hoisted_10","isAuthenticated","collection","setup","authStore","useAuthentication","addToCart","useCartComposable","mediaUrl","truncate","data","likedProducts","beforeMount","this","getLikedProducts","localStorage","methods","async","response","$http","get","products","$localstorage","create","error","addErrorMessage","post","__exports__","render"],"sourceRoot":""}