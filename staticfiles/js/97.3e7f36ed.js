"use strict";(self["webpackChunkfront2"]=self["webpackChunkfront2"]||[]).push([[97],{2828:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var a=s(3396),i=s(7139);const o={id:"likes",class:"ecommerce-section"},c={class:"container"},l={key:0,class:"row"},r={class:"card"},d=["src","alt"],n={class:"card-body"},u={class:"card-title"},m={class:"card-text"},h={class:"btn btn-block btn-primary"},k=["onClick"],g={key:1,class:"row text-center"},w={class:"col-12"},p={class:"mb-4 fw-bold"},b={key:0,class:"my-2"},_={key:1,class:"my-2"};function v(t,e,s,v,f,y){const $=(0,a.up)("router-link"),P=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("section",o,[(0,a._)("div",c,[t.likedProducts.length>0?((0,a.wg)(),(0,a.iD)("div",l,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.likedProducts,(e=>((0,a.wg)(),(0,a.iD)("article",{key:e.id,class:"col-3"},[(0,a._)("div",r,[(0,a.Wm)($,{to:{name:"product_view",params:{id:e.id,slug:e.slug,lang:t.$i18n.locale}}},{default:(0,a.w5)((()=>[(0,a._)("img",{src:v.mediaUrl(e.get_main_image.mid_size),alt:t.likedProducts.name,class:"card-img-top"},null,8,d)])),_:2},1032,["to"]),(0,a._)("div",n,[(0,a._)("h5",u,[(0,a.Wm)($,{to:{name:"product_view",params:{id:e.id,slug:e.slug,lang:t.$i18n.locale}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(v.truncate(e.name,20)),1)])),_:2},1032,["to"])]),(0,a._)("p",m,(0,i.zw)(e.get_price),1),(0,a._)("button",h,(0,i.zw)(t.$t("Add to cart")),1),(0,a._)("button",{class:"btn btn-block btn-primary",onClick:t=>y.removeFromLiked(e)},(0,i.zw)(t.$t("Remove")),9,k)])])])))),128))])):((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",w,[(0,a.Wm)(P,{icon:"fa-solid fa-heart",size:"4x",class:"mb-2"}),(0,a._)("h1",p,(0,i.zw)(t.$t("You have no saved items")),1),v.authStore.isAuthenticated?((0,a.wg)(),(0,a.iD)("div",b,[(0,a.Wm)($,{to:{name:"collection_details_view",params:{collection:"all",lang:t.$i18n.locale}},class:"btn btn-lg btn-primary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.$t("Continue shopping")),1)])),_:1},8,["to"])])):((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("p",null,(0,i.zw)(t.$t("Sign in to sync your saved items across all your devices")),1),(0,a.Wm)($,{to:{name:"login_view",params:{lang:t.$i18n.locale}},class:"btn btn-lg btn-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(P,{icon:"fa-solid fa-right-to-bracket",class:"me-2"}),(0,a.Uk)(" "+(0,i.zw)(t.$t("Sign in")),1)])),_:1},8,["to"])]))])]))])])}var f=s(2097),y=s(8661),$=s(2440),P={name:"LikedProductsView",setup(){const t=(0,f.J)(),{addToCart:e}=(0,$.Z)();return{authStore:t,mediaUrl:y.si,truncate:y.$G,addToCart:e}},data:()=>({likedProducts:[]}),beforeMount(){this.authStore.isAuthenticated&&(this.getLikedProducts(),this.likedProducts=this.localStorage.likedProducts||[])},methods:{async getLikedProducts(){try{const t=await this.$http.get("shop/likes");this.likedProducts=t.data.products,this.$localstorage.create("likedProducts",this.likedProducts)}catch(t){this.authStore.addErrorMessage(`V-AX-LI: ${t}`)}},async removeFromLiked(t){try{const e=await this.$http.post("shop/likes/remove",{product:t.id});this.likedProducts=e.data,this.$localstorage.create("likedProducts",this.likedProducts)}catch(e){this.authStore.addErrorMessage(`V-AX-LI: ${e}`)}}}},z=s(89);const S=(0,z.Z)(P,[["render",v]]);var C=S}}]);
//# sourceMappingURL=97.3e7f36ed.js.map