(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ed7f663"],{2938:function(t,e,s){},"3cdb":function(t,e,s){"use strict";s("2938")},"956b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{ref:"link",staticClass:"navbar navbar-expand-lg shadow-none navbar-light mb-2"},[s("div",{staticClass:"collapse navbar-collapse flex-column justify-content-left align-items-start"},[s("ul",{staticClass:"navbar-nav w-100 justify-content-center"},[s("li",{staticClass:"nav-item font-weight-bold text-uppercase"},[s("v-btn",{attrs:{disabled:"",text:""}},[s("v-icon",{staticClass:"mr-2"},[t._v("mdi-tune")]),t._v(" Filtres ")],1)],1),s("li",{staticClass:"nav-item mx-1"},[s("v-menu",{attrs:{"close-on-content-click":!0,"open-on-hover":!1,rounded:!1,transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[s("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",n,!1),i),[s("v-icon",{staticClass:"mr-2"},[t._v("mdi-sort")]),t._v(" "+t._s(t.$t(t.sortMethod))+" ")],1)]}}])},[s("v-list",t._l(t.sortMethods,(function(e){return s("v-list-item",{key:e,on:{click:function(s){return t.doSort(e)}}},[s("v-list-item-title",[t._v(t._s(t.$t(e)))])],1)})),1)],1)],1),s("li",{staticClass:"nav-item mx-1"},[s("v-btn",{attrs:{text:""},on:{click:function(e){return t.openFilters("sizes")}}},[t._v(" "+t._s(t.$t("Size"))+" "),s("v-icon",{staticClass:"ms-1"},[t._v("mdi-chevron-down")])],1)],1),s("li",{staticClass:"nav-item mx-1"},[s("v-btn",{attrs:{text:""},on:{click:function(e){return t.openFilters("colors")}}},[t._v(" "+t._s(t.$t("Color"))+" "),s("v-icon",{staticClass:"ms-1"},[t._v("mdi-chevron-down")])],1)],1)]),t.showFilters?s("div",{staticClass:"d-flex justify-content-center",staticStyle:{"flex-wrap":"wrap"},attrs:{id:"filters"}},["sizes"==t.selectedFilter?s("div",t._l(t.sizes,(function(e,i){return s("v-chip",{key:i,staticClass:"fw-bold me-3",staticStyle:{height:"50px",width:"50px","border-radius":"50%","text-align":"center"},attrs:{link:""},on:{click:function(s){return t.setFilterValue("sizes",e)}}},[t._v(" "+t._s(e)+" ")])})),1):"colors"==t.selectedFilter?s("div",{staticClass:"d-flex justify-content-center"},t._l(t.colors,(function(e,i){return s("div",{key:i,on:{click:function(s){return t.setFilterValue("colors",e[0])}}},[t.isSelected("colors",e[0])?s("v-icon",{staticClass:"text-white filter-icon",attrs:{"x-large":""}},[t._v("mdi-check")]):t._e(),s("v-img",{staticClass:"mx-2",attrs:{id:"color",src:e[1],height:"50px",width:"50px"}})],1)})),0):t._e()]):t._e()])])},n=[],r=s("1da1"),c=s("5530"),o=(s("96cf"),s("d3b7"),s("159b"),s("b0c0"),s("d81d"),s("3ca3"),s("ddb0"),s("9861"),s("b64b"),s("9911"),s("caad"),s("2532"),s("2f62")),a=s("2ef0"),l={name:"FiltersBar",data:function(){return{items:[],sortMethod:"Latest",sortMethods:["Latest","Alphabetically A-Z","Alphabetically Z-A","Price high to low","Price low to high"],showFilters:!1,selectedFilter:"sizes",selectedElements:{sizes:[],colors:[]},sizes:["XS","S","M","L","XL","XXL"]}},computed:Object(c["a"])(Object(c["a"])({},Object(o["d"])({productNames:function(t){var e=[];return a.forEach(t.shopModule.products,(function(t){e.push(t.name)})),e}})),{},{colors:function(){var t=this,e=["beige","black","camel","red"];return a.map(e,(function(e){return[e,t.$options.filters.mediaUrl("/media/swatches/".concat(e,".png"))]}))},searchQuery:function(){var t=new URLSearchParams(Object(c["a"])({},this.selectedElements));return"?".concat(t)},hasFilters:function(){var t=this,e=a.map(Object.keys(this.selectedElements),(function(e){return t.selectedElements[e].length>0}));return e.some((function(t){return 1==t}))}}),beforeMount:function(){this.sortMethod=this.$localstorage.retrieve("sort"),this.doSort(this.sortMethod)},mounted:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{getFilteredProducts:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$emit("loading-products-start"),e.next=4,t.axios.get("/shop/advanced/search".concat(t.searchQuery));case 4:s=e.sent,t.$store.commit("setProducts",s.data),t.$emit("loading-products-end"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$store.dispatch("addErrorMessag","An error occured");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},doSort:function(t){this.sortMethod=t,this.$emit("do-sort",t)},openFilters:function(t){t!==this.selectedFilter&&this.showFilters?this.showFilters=!0:this.showFilters=!this.showFilters,this.selectedFilter=t},handleScroll:function(){var t=this.getVerticalScrollPercentage(document.body);t>=5&&this.$refs.link.classList.add("scrolled"),(t>=90||0==t)&&this.$refs.link.classList.remove("scrolled")},setFilterValue:function(t,e){var s=this.selectedElements[t];this.selectedElements[t]=this.updateList(e,s),this.hasFilters?this.getFilteredProducts():(this.$emit("loading-products-start"),this.$emit("load-products"),this.$emit("loading-products-end")),this.scrollToTop()},isSelected:function(t,e){return this.selectedElements[t].includes(e)}}},d=l,u=(s("3cdb"),s("2877")),h=s("6544"),v=s.n(h),m=s("8336"),f=s("cc20"),p=s("132d"),b=s("adda"),w=s("8860"),g=s("da13"),_=s("5d23"),x=s("e449"),F=Object(u["a"])(d,i,n,!1,null,"2b012866",null);e["default"]=F.exports;v()(F,{VBtn:m["a"],VChip:f["a"],VIcon:p["a"],VImg:b["a"],VList:w["a"],VListItem:g["a"],VListItemTitle:_["b"],VMenu:x["a"]})}}]);
//# sourceMappingURL=chunk-7ed7f663.ae06292f.js.map